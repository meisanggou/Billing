{% extends "API_HELP/List_API.html" %}

{% block content %}
    {{  super() }}
    <input value="{{ url_prefix }}/module/" id="module_url" style="display: none"/>
    <div class="form-group apiContentLine">
      <input value="{{ current_module["module_no"] }}" id="module_no" style="display: none"/>
      <ul>
        <li>
          <label for="">模块名称：</label>
          <input class="box-side width300" id="module_name" type="text" value="{{ current_module["module_name"] }}" />
        </li>
        <li>
          <label for="">模块前缀：</label>
          <input class="box-side width300" id="module_prefix" type="text" value="{{ current_module["module_prefix"] }}" />
        </li>
        <li>
          <label class="api-describe" for="">模块描述：</label>
          <textarea class="box-side" rows="3" id="module_desc" required>{{ current_module["module_desc"] }}</textarea>
        </li>
        <li>
          <label class="api-describe" for="">所属分类：</label>
          <select class="box-side" id="module_part" >
              {% for part in part_module %}
                  <option value="{{ part["part_no"] }}" {% if current_module["part_no"] == part["part_no"] %} selected {% endif %}>{{ part["part_name"] }}</option>
              {% endfor %}
          </select>
        </li>
      <li>
          <label class="api-describe" for="">调用环境：</label>
          <select class="box-side" id="s_add_env">
              {% for item in test_env %}
                  <option value="{{ item["env_no"] }}" title="{{ item["env_address"] }}">{{ item["env_name"] }}</option>
              {% endfor %}
          </select>
          <span class="symbol" onclick="add_test_env();">+</span>
          <div class="tag" id="div_add_env">
              {% for env in module_env_info %}
                  <span about="{{ env["env_name"] }}" value="{{ env["env_no"] }}" title="{{ env["env_address"] }}" >{{ env["env_name"] }}<b>X</b></span>
              {% endfor %}
          </div>
      </li>
      </ul>
      <button id="btn_op_module" class="btn btn-success btn-down api-newBtn">更新模块</button>
    </div>
{% endblock %}