{% extends "API_HELP/List_API.html" %}

{% block content %}
    {{  super() }}
    <div style="display: none" id="div_api_new_add">
        <input value="{{ url_prefix }}/module/" id="module_url" style="display: none"/>
        {% if current_module %}
            <label style="display: none" id="lab_current_module">{{ current_module | tojson | safe }}</label>
            <input value="" id="module_no" style="display: none"/>
        {% endif %}
        <div class="form-group apiContentLine">
          <ul style="margin-bottom: 1em">
            <li>
              <label for="">模块名称：</label>
              <input class="box-side width300" id="module_name" type="text" required />
            </li>
            <li>
              <label for="">模块前缀：</label>
              <input class="box-side width300" id="module_prefix" type="text" required />
            </li>
            <li>
              <label class="api-describe" for="">模块描述：</label>
              <textarea class="box-side" rows="3" id="module_desc" required></textarea>
            </li>
            <li>
              <label class="api-describe" for="">所属分类：</label>
              <select class="box-side" id="module_part" required>
                  {% for part in part_module %}
                     <option value="{{ part["part_no"] }}">{{ part["part_name"] }}</option>
                  {% endfor %}
              </select>
            </li>
          <li>
              <label class="api-describe" for="">调用环境：</label>
              <select class="box-side" id="s_add_env">
                  {% for item in test_env %}
                      <option value="{{ item["env_no"] }}" title="{{ item["env_address"] }}">{{ item["env_name"] }}</option>
                  {% endfor %}
              </select>
              <span class="symbol" onclick="add_test_env();">+</span>
              <div class="tag" id="div_add_env">
              </div>
          </li>
          </ul>
          <button id="btn_op_module" class="btn btn-success btn-down api-newBtn">新建模块</button>
        </div>
    </div>
{% endblock %}