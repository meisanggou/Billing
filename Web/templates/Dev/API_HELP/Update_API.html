<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>更新API解释</title>
<link rel="stylesheet" href="{{ url_for('static', filename='t_css/bootstrap.min.css') }}"><!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="{{ url_for('static', filename='t_css/main.css') }}"><!--自定义的页面样式 -->
<script type="text/javascript" src="{{ url_for('static', filename='t_js/jquery.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='t_js/API_HELP/update_api.js') }}"></script>
</head>

<body>
<div class="container font16 apiMode">
    <input class="form-control bottom10" id="api_no" value="{{ api_no }}" style="display:none;"/>
    <p>API标题: {{ api_info["basic_info"]["api_title"] }}</p>
    <p>API URL: {{ api_info["basic_info"]["api_url"] }}</p>
    <p>API 请求方式 {{ api_info["basic_info"]["api_method"] }}</p>
<table class="table table-bordered api-list-table" id="api_header_param">
    <caption>请求头部参数</caption>
    <tr>
        <th scope="col" width="40%">参数名称</th>
        <th scope="col" width="8%">是否必须</th>
        <th scope="col" width="40%">参数描述</th>
        <th scope="col" width="11%">操作</th>
    </tr>
    {% for item in api_info["header_info"] %}
    <tr id="tr_{{ item["header_no"] }}">
        <td>{{ item["param"] }}</td>
        <td>
            <select class="form-control" disabled>
                <option value="1" {% if item["necessary"] %}selected="selected"{% endif %}>是</option>
                <option value="0" {% if not item["necessary"] %}selected="selected"{% endif %}>否</option>
            </select>
        </td>
        <td>{{ item["param_desc"] }}</td>
        <td>
            <button class="btn btn-success">更新</button>
            <button class="btn btn-danger" onclick="delete_header_param('{{ item["header_no"] }}')">删除</button>
        </td>
    </tr>
    {% endfor %}
        <td><input class="form-control" id="header_param_name"/></td>
        <td>
            <select class="form-control" id="header_param_ne">
                <option value="1">是</option>
                <option value="0">否</option>
            </select>
        </td>
        <td><input class="form-control" id="header_param_desc" /></td>
        <td><button class="btn btn-info" onclick="new_header_param();">新建</button></td>
</table>
<table class="table table-bordered api-list-table" id="api_body_param">
    <caption>请求主体参数</caption>
    <tr>
        <th scope="col" width="25%">参数名称</th>
        <th scope="col" width="8%">是否必须</th>
        <th scope="col" width="10%">参数类型</th>
        <th scope="col" width="45%">参数描述</th>
        <th scope="col" width="11%">操作</th>
    </tr>
    {% for item in api_info["body_info"] %}
    <tr id="tr_{{ item["body_no"] }}">
        <td>{{ item["param"] }}</td>
        <td>
            <select class="form-control" disabled>
                <option value="1" {% if item["necessary"] %}selected="selected"{% endif %}>是</option>
                <option value="0" {% if not item["necessary"] %}selected="selected"{% endif %}>否</option>
            </select>
        </td>
        <td>{{ item["type"] }}</td>
        <td>{{ item["param_desc"] }}</td>
        <td>
           <button class="btn btn-success">更新</button>
           <button class="btn btn-danger" onclick="delete_body_param('{{ item["body_no"] }}')">删除</button>
        </td>
    </tr>
    {% endfor %}
        <td><input class="form-control" id="body_param_name"/></td>
        <td>
            <select class="form-control" id="body_param_ne">
                <option value="1">是</option>
                <option value="0">否</option>
            </select>
        </td>
        <td><input class="form-control" id="body_param_type" /></td>
        <td><input class="form-control" id="body_param_desc" /></td>
        <td><button class="btn btn-info" onclick="new_body_param();">新建</button></td>
</table>
<div class="bottom20 api-example">
    <b>请求示例</b>
    <div id="api_input_exist">
        {% for item in api_info["input_info"] %}
        <div id="div_{{ item["input_no"] }}">
           <p>{{ item["input_desc"] }}</p>
           <p><textarea class="form-control" readonly>{{ item["input_example"] }}</textarea></p>
           <p><button class="btn btn-success">更新</button>
           <button class="btn btn-danger" onclick="delete_input_param('{{ item["input_no"] }}')">删除</button></p>
        </div>
        {% endfor %}
    </div>
    <p><input class="form-control" id="input_desc" /></p>
    <p><textarea class="form-control input_example" id="input_example"></textarea></p>
    <button class="btn btn-info" onclick="new_input_example()">新建</button>
</div>
<div class="bottom20 api-example">
    <b>返回示例</b>
    <div id="api_output_exist">
        {% for item in api_info["output_info"] %}
           <div id="div_{{ item["output_no"] }}">
               <p>{{ item["output_desc"] }}</p>
               <p><textarea class="form-control" readonly>{{ item["output_example"] }}</textarea></p>
               <p><button class="btn btn-success">更新</button>
               <button class="btn btn-danger" onclick="delete_output_param('{{ item["output_no"] }}')">删除</button></p>
           </div>
        {% endfor %}
    </div>
    <p><input class="form-control" id="output_desc" /></p>
    <p><textarea class="form-control input_example" id="output_example"></textarea></p>
    <button class="btn btn-info" onclick="new_output_example()">新建</button>
</div>
</div>
</body>
</html>