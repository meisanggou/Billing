<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>添加API</title>
<link rel="stylesheet" href="{{ url_for('static', filename='t_css/bootstrap.min.css') }}"><!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="{{ url_for('static', filename='t_css/main.css') }}"><!--自定义的页面样式 -->
<script type="text/javascript" src="{{ url_for('static', filename='t_js/jquery.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='t_js/API_HELP/new_api.js') }}"></script>
</head>

<body>
<div class="container apiMode">
  <div class="form-group">
     <label for="">API所属模块：</label>
     <select class="box-side" id="api_module" onchange="select_change()" >
        {% for module in module_list %}
            <option about="{{ module["module_desc"] }}" value="{{ module["module_no"] }}" title="{{ module["module_prefix"] }}">{{ module["module_name"] }}</option>
        {% endfor %}
     </select>
  </div>
  <form role="form" action="/dev/api/new/" method="post">
     <div class="form-group apiContentLine">
      <label for="">选择的模块是：</label>
      <ul class="select-mode">
        <li>
          <label for="">模块编号：</label>
          <span id="selected_no">{{ module_list[0]["module_no"] }}</span>
          <input id="module_no" name="api_module" style="display:none;" value="{{ module_list[0]["module_no"] }}"/>
        </li>
        <li>
          <label for="">模块名称：</label>
          <span id="selected_name">{{ module_list[0]["module_name"] }}</span></li>
        <li>
          <label for="">模块URL前缀：</label>
          <span id="selected_prefix">{{ module_list[0]["module_prefix"] }}</span></li>
        <li>
          <label for="">模块描述：</label>
          <span id="selected_desc">{{ module_list[0]["module_desc"] }}</span></li>
      </ul>
    </div>
    <div class="form-group apiContentLine">
      <ul>
        <li>
          <label for="">API标题：</label>
          <input class="box-side width300" name="api_title" type="text" />
        </li>
        <li>
          <label for="">API访问路径：</label>
          <input class="box-side width300" name="api_url" type="text" id="api_url" onkeyup="show_comp_url();" />
          <label id="api_comp_url"></label>
        </li>
        <li>
          <label for="">API请求方式：</label>
          <select class="box-side width300" name="api_method">
            <option>GET</option>
            <option>POST</option>
            <option>PUT</option>
            <option>DELETE</option>
          </select>
        </li>
        <li>
          <label class="api-describe" for="">API描述：</label>
          <textarea class="box-side" rows="3" name="api_desc"></textarea>
        </li>
      </ul>
    </div>
    <button type="submit" class="btn btn-success btn-down api-newBtn">新建</button>
  </form>
</div>
</body>
</html>